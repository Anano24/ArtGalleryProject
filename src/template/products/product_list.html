{% extends 'layouts/base.html'%}



{% block content %}
  <div>
    <div class="container-md product-box">
      <div class="baner-box">
        <h1 class="shop-baner"> Find your favorite one! </h1>
      </div>
      <hr>
      <div class="row row-cols-1 row-cols-md-3 g-4 mt-5">
        {% for product in products.items %}
        <div class="col mt-5 mb-5">
          <div class="card h-100" style="border: none; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);">
            <a href="{{ url_for('product.product', id=product.id)}}">
              <img src="{{ url_for('static', filename='img/' + product.images[0].filename) }}" class="card-img-top" alt="{{ product.title }}">
            </a>
            <div class="card-body" style="padding: 10px 0 0; text-align: center;">
              <h5 class="card-title">{{ product.title }}</h5>
              <p class="card-text" style="color: red;">{{ product.price }}$</p>
              <a href="{{ url_for('product.product', id=product.id) }}" class="btn-buy">Buy Now</a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <!-- Pagination links -->
      <div style="display: flex; justify-content: center; align-items: center;">
        <nav aria-label="Products Pagination">
          <ul class="pagination">
            {% if products.has_prev %}
            <li class="page-item ">
              <a class="page-link " href="?page={{ products.prev_num }}" style="color: #777777;">Previous</a>
            </li>
            {% endif %}
            {% for num in products.iter_pages() %}
            {% if num %}
            <li class="page-item {% if num == products.page %}active{% endif %}">
              <a class="page-link{% if num == products.page %} active-link{% endif %}" href="?page={{ num }}" style="color: #777777;">{{ num }}</a>
            </li>
            {% else %}
            <li class="page-item disabled"><span class="page-link">...</span></li>
            {% endif %}
            {% endfor %}
            {% if products.has_next %}
              <a class="page-link" href="?page={{ products.next_num }}" style="color: #777777;">Next</a>
            </li>
            {% endif %}
          </ul>
        </nav>
      </div>
    </div>
  </div>


  <script>
     // Change navbar text color on scroll
    window.addEventListener('scroll', function () {
      var navbar = document.querySelector('.navbar');
      var navbarLinks = navbar.querySelectorAll('.nav-link'); // Selecting all navbar links with the class 'nav-link'

      if (window.scrollY > 50) {
          navbar.classList.remove('navbar-dark');
          navbar.classList.add('navbar-light');
          navbarLinks.forEach(function(link) {
              link.style.color = '#f4583f'; // Change to your desired text color when scrolled
          });
      } else {
          navbar.classList.remove('navbar-light');
          navbar.classList.add('navbar-dark');
          navbarLinks.forEach(function(link) {
              link.style.color = '#ffffff'; // Change to your desired text color when not scrolled
          });
      }
    });
  </script>
  

{% endblock %}