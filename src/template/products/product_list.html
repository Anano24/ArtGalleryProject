{% extends 'layouts/base.html'%}



{% block content %}
  
    <div class="container-fluid product-box ">
      <div class="baner-box">
        <h1 class="shop-baner"> Find your favorite one! </h1>
      </div>
      <hr>
    </div>
    <div class="gallery-container mb-5 container-fluid">
        <div class="container-md">
            <div class="row row-cols-1 row-cols-md-3 g-4 mt-5">
              {% for product in products.items %}
              <div class="col mt-3 mb-5">
                <div class="card h-100" style="border: none; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1); background-color: transparent;">
                  <a href="{{ url_for('product.product', id=product.id)}}">
                    <img src="{{ url_for('static', filename='img/' + product.images[0].filename) }}" class="card-img-top" alt="{{ product.title }}">
                  </a>
                  <div class="card-body" style="padding: 10px 0 0; text-align: center;">
                    <h5 class="card-title">{{ product.title }}</h5>
                    <p class="card-text" style="color: red;">{{ product.price }}$</p>
                    <a href="{{ url_for('product.product', id=product.id) }}" class="btn-buy">Buy Now</a>
                  </div>
                </div>
              </div>
              {% endfor %}
            </div>
            <!-- Pagination links -->
            <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 50px;">
              <nav aria-label="Products Pagination">
                <ul class="pagination">
                  {% if products.has_prev %}
                  <li class="page-item ">
                    <a class="page-link " href="?page={{ products.prev_num }}" style="color: #777777;">Previous</a>
                  </li>
                  {% endif %}
                  {% for num in products.iter_pages() %}
                  {% if num %}
                  <li class="page-item {% if num == products.page %}active{% endif %}">
                    <a class="page-link{% if num == products.page %} active-link{% endif %}" href="?page={{ num }}" style="color: #777777;">{{ num }}</a>
                  </li>
                  {% else %}
                  <li class="page-item disabled"><span class="page-link">...</span></li>
                  {% endif %}
                  {% endfor %}
                  {% if products.has_next %}
                    <a class="page-link" href="?page={{ products.next_num }}" style="color: #777777;">Next</a>
                  </li>
                  {% endif %}
                </ul>
              </nav>
            </div>
        </div>
    </div>


  <script src="{{ url_for('static', filename='scripts/scroll_nav_bg_color.js') }}"></script>
  

{% endblock %}